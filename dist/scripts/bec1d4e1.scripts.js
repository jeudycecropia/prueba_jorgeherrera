(function(){"use strict";var t;t=angular.module("pruebaJorgeherreraApp",[]),t.config(["$routeProvider",function(t){return t.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/city/:city",{templateUrl:"views/city.html",controller:"CityCtrl"}).otherwise({redirectTo:"/"})}]),t.controller("CityCtrl",["$scope","$rootScope","$routeParams","WeatherInfo","GoogleMap",function(t,e,o,n,r){var a,i,l;for(t.city=o.city,n.getCityWeather(o.city,function(e){return t.cityStats=e}),r.setMapPos("map-canvas",4,{lat:39.328404,lon:-102.128906},function(t){return console.log(t)}),l=document.querySelectorAll(".nav li"),a=0,i=l.length;i>a;)l[a].classList.remove("active"),a++;return document.querySelector("."+o.city.replace(" ","").toLowerCase()).classList.add("active")}]),t.controller("MainCtrl",["$scope","$rootScope","$http","WeatherInfo","GoogleMap",function(t,e,o,n,r){return n.getAllCitiesWeather(function(e){return t.allcities=e}),e.getCityData=function(t){return r.getMapData(t,function(t){var e;return e=t[0].geometry.viewport,r.setMapPos("map-canvas",12,{lat:e.Z.d,lon:e.fa.b},function(t){return console.log(t)})})},r.setMapPos("map-canvas",5,{lat:39.328404,lon:-102.128906},function(t){return console.log(t)})}]),t.filter("capitalize",function(){return function(t){return t?t.charAt(0).toUpperCase()+t.slice(1):t}}),t.filter("lowercaseCity",function(){return function(t){return t?t.replace(" ","").toLowerCase():t}}),t.factory("GoogleMap",["$http",function(){return{getMapData:function(t,e){var o;return o=new google.maps.Geocoder,o.geocode({address:t},e)},setMapPos:function(t,e,o){var n,r,a;return n=function(){var e,r;return document.getElementById(t)?(e=new google.maps.Map(document.getElementById(t),a),r=new google.maps.Marker({position:new google.maps.LatLng(o.lat,o.lon),animation:google.maps.Animation.DROP,title:name}),r.setMap(e)):setTimeout(n,500)},r=void 0,a={zoom:e,center:new google.maps.LatLng(o.lat,o.lon),scrollwheel:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},n()}}}]),t.factory("WeatherInfo",["$http",function(t){var e,o;return e="data/allcities.json",o={Austin:"data/austin.json",Washington:"data/washington.json","Los Angeles":"data/la.json"},{getAllCitiesWeather:function(o){return t.get(e).success(o)},getCityWeather:function(e,n){return t.get(o[e]).success(n)}}}])}).call(this);